{"version":3,"file":"index.development.js","sources":["../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../../node_modules/@babel/runtime/helpers/esm/typeof.js","../../node_modules/@babel/runtime/helpers/esm/toPrimitive.js","../../node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","../../node_modules/@babel/runtime/helpers/esm/createClass.js","../../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../src/utils/utils.ts","../../src/utils/bundleUtils.ts","../../src/index.ts"],"sourcesContent":["export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","import _typeof from \"./typeof.js\";\nexport default function _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nexport default function _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, toPropertyKey(descriptor.key), descriptor);\n  }\n}\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","export function replaceText(source: string, from: string, to: string): string {\n\treturn source.replace(new RegExp(from, 'g'), to);\n}\n\nexport function escapeSpecialCharacters(input: string): string {\n\treturn input.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n}\n\nconst utils = {\n\treplaceText,\n\tescapeSpecialCharacters,\n};\n\nexport default utils;\n","import {Compilation, sources} from 'webpack';\n\nexport function getBundleSource(\n\tcompilation: Compilation,\n\tbundle: string\n): string {\n\tconst asset = compilation.assets[bundle];\n\tif (!asset) {\n\t\tthrow new Error(\n\t\t\t`ReplaceTextInBundlePlugin: Bundle '${bundle}' not found`\n\t\t);\n\t}\n\treturn asset.source();\n}\n\nexport function updateBundleSource(\n\tcompilation: Compilation,\n\tbundle: string,\n\tsource: string\n): void {\n\tcompilation.assets[bundle] = new sources.RawSource(source);\n}\n\nconst bundleUtils = {\n\tgetBundleSource,\n\tupdateBundleSource,\n};\n\nexport default bundleUtils;\n","import {Compiler, Compilation} from 'webpack';\nimport {Option} from './constants';\nimport {\n\tgetBundleSource,\n\tupdateBundleSource,\n\treplaceText,\n\tescapeSpecialCharacters,\n} from './utils';\n\nclass ReplaceTextInBundlePlugin {\n\tprivate options: Option[];\n\n\tconstructor(options: Option[]) {\n\t\tthis.options = options;\n\t}\n\n\tapply(compiler: Compiler): void {\n\t\tif (!Array.isArray(this.options)) {\n\t\t\tthrow new Error(\n\t\t\t\t'ReplaceTextInBundlePlugin: Expected an array in options'\n\t\t\t);\n\t\t}\n\n\t\tcompiler.hooks.emit.tap(\n\t\t\t'ReplaceTextInBundlePlugin',\n\t\t\t(compilation: Compilation) => {\n\t\t\t\tthis.options.forEach(\n\t\t\t\t\tthis.processOption.bind(this, compilation)\n\t\t\t\t);\n\t\t\t}\n\t\t);\n\t}\n\n\tprivate processOption(compilation: Compilation, option: Option): void {\n\t\tif (\n\t\t\toption.bundle === undefined ||\n\t\t\toption.from === undefined ||\n\t\t\toption.to === undefined\n\t\t) {\n\t\t\tthrow new Error('ReplaceTextInBundlePlugin: Invalid object key');\n\t\t}\n\n\t\tconst {bundle, from, to} = option;\n\t\tconst bundleSource = getBundleSource(compilation, bundle);\n\t\tconst escapedFrom = escapeSpecialCharacters(from);\n\t\tconst modifiedBundleSource = replaceText(bundleSource, escapedFrom, to);\n\t\tupdateBundleSource(compilation, bundle, modifiedBundleSource);\n\t}\n}\n\nexport default ReplaceTextInBundlePlugin;\n"],"names":["toPrimitive","toPropertyKey","replaceText","source","from","to","replace","RegExp","escapeSpecialCharacters","input","getBundleSource","compilation","bundle","asset","assets","Error","concat","updateBundleSource","sources","RawSource","ReplaceTextInBundlePlugin","options","_classCallCheck","_defineProperty","_createClass","key","value","apply","compiler","_this","Array","isArray","hooks","emit","tap","forEach","processOption","bind","option","undefined","bundleSource","escapedFrom","modifiedBundleSource"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5]}